


ARM Macro Assembler    Page 1 


    1 00000000         ;; Tong ma tran cac so chia het cho 5
    2 00000000         ;; 5, 10
    3 00000000         ;; 6, 1 => Tong = 15
    4 00000000         
    5 00000000         ;AREA RESET, DATA, READONLY
    6 00000000         ;DCD 0x20000000   ; DCD gia tri nguyen $ byte, 0x2000000
                       00 gia tri khoi dau stack
    7 00000000         ;DCD MAIN    ; dau la ham chinh
    8 00000000         
    9 00000000         ;MATRAN 
   10 00000000         ;DCD 2, 5, 7, 8
   11 00000000         ;DCD 3, -10, 6, 9
   12 00000000         ;DCD 5, 6, 8, 15
   13 00000000         
   14 00000000         ;SOLUONGPHANTU EQU 12
   15 00000000         
   16 00000000         ;AREA MAINSOURCE, CODE, READONLY
   17 00000000         ;ENTRY
   18 00000000         
   19 00000000         ;; dau tien duyet lan luot ma tran, tinh tong cac so chi
                       a 5.
   20 00000000         ;; tong se luu vao R0
   21 00000000         ;; dau mang se luu vao R1
   22 00000000         ;; tong so luong phan tu R2
   23 00000000         ;; phan tu load tu offset luu vao R3
   24 00000000         ;MAIN 
   25 00000000         ;MOV R0, #0
   26 00000000         ;MOV R3, #0
   27 00000000         
   28 00000000         ;LDR R1, =MATRAN
   29 00000000         ;LDR R2, =SOLUONGPHANTU
   30 00000000         
   31 00000000         ;LOOP
   32 00000000         ;CMP R2, #0
   33 00000000         ;BEQ STOP
   34 00000000         
   35 00000000         ;LDR R3, [R1], #4; R3 = gia tri cua R1, dia chi cua R1 =
                        dia chi R1 + 4
   36 00000000         ;SUB R2, #1
   37 00000000         
   38 00000000         ;BL KIEMTRA
   39 00000000         
   40 00000000         ;CMP R6, #1
   41 00000000         ;BEQ TONGSOCHIAHETCHO5
   42 00000000         
   43 00000000         ;B LOOP
   44 00000000         
   45 00000000         ;TONGSOCHIAHETCHO5
   46 00000000         ;ADD R0, R3
   47 00000000         ;B LOOP
   48 00000000         
   49 00000000         ;; Kiem tra phan tu trong R3 chia het cho 5 hay khong
   50 00000000         ;; Ket qua luu thanh R6 ( 1 la co, 0 la ko chia het )
   51 00000000         ;KIEMTRA PROC
   52 00000000         ;MOV R6, #0
   53 00000000         ;MOV R7, #5
   54 00000000         
   55 00000000         ;SDIV R4, R3, R7 ; R4 = R3 / 5
   56 00000000         ;MLS R5, R4, R7, R3 ; R5 = R4 * 5 - R3



ARM Macro Assembler    Page 2 


   57 00000000         
   58 00000000         ;CMP R5, #0
   59 00000000         ;BEQ CHIAHETCHO5
   60 00000000         ;B EXIT
   61 00000000         
   62 00000000         ;CHIAHETCHO5
   63 00000000         ;MOV R6, #1
   64 00000000         
   65 00000000         ;EXIT
   66 00000000         ;BX LR ; Return 
   67 00000000         ;ENDP
   68 00000000         
   69 00000000         ;STOP B STOP
   70 00000000         
   71 00000000         ;END
   72 00000000         
                       
Command Line: --debug --xref --cpu=Cortex-M3 --apcs=interwork --depend=.\lap02_
08.d -o.\lap02_08.o -IC:\Keil\ARM\RV31\INC -IC:\Keil\ARM\CMSIS\Include -IC:\Kei
l\ARM\Inc\ST\STM32F10x --list=.\lap02_08.lst Lap02_08.s
330 symbols in table
