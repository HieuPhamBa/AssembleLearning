


ARM Macro Assembler    Page 1 


    1 00000000         ;;Cong so nguyen to tren ma tran
    2 00000000         
    3 00000000         ;AREA RESET, DATA, READONLY
    4 00000000         ;DCD 0x20000000
    5 00000000         ;DCD Main
    6 00000000         
    7 00000000         ;MaTran
    8 00000000         ;DCD 3, 4, 5
    9 00000000         ;DCD 4, 17, 16
   10 00000000         ;DCD 5, 18, 16
   11 00000000         
   12 00000000         ;ChieuDaiMT DCD 9
   13 00000000         
   14 00000000         ;AREA MainSource, CODE, READONLY
   15 00000000         ;ENTRY
   16 00000000         
   17 00000000         
   18 00000000         
   19 00000000         ;Main
   20 00000000         ;MOV R1, #23
   21 00000000         ;MOV R2, #5
   22 00000000         
   23 00000000         ;MOV R8, R1
   24 00000000         
   25 00000000         ;BL TongSoNTTrongMaTran
   26 00000000         ;B KetThuc 
   27 00000000         
   28 00000000         ;; Tong cac so nguyen to trong ma tran, ket qua qua luu 
                       R5
   29 00000000         ;TongSoNTTrongMaTran PROC
   30 00000000         ;MOV R5, #0 ; Tong cac so nguyen to
   31 00000000         ;LDR R4, =MaTran ; Con tro dau ma tran
   32 00000000         ;MOV R3, #0 ; Index tu 0 -> Chieu dai cua ma tran
   33 00000000         ;MOV R2, #0 ; Dia chi offset so voi phan tu dau tien
   34 00000000         
   35 00000000         ;LapCong 
   36 00000000         
   37 00000000         ;CMP R3, #8
   38 00000000         ;BGT KetThucTongMT
   39 00000000         
   40 00000000         ;LDR R1, [R4, R2]
   41 00000000         
   42 00000000         ;;Kiem tra R8 co phai SNT
   43 00000000         ;MOV R8, R1
   44 00000000         
   45 00000000         ;CMP R8, #2
   46 00000000         ;BLT KhongPhaiSoNguyenTo
   47 00000000         
   48 00000000         ;MOV R6, #2
   49 00000000         
   50 00000000         ;LapChiaHet
   51 00000000         ;CMP R6, R8
   52 00000000         ;BGE LaSoNguyenTo
   53 00000000         
   54 00000000         ;MOV R10, R8
   55 00000000         ;MOV R9, R6
   56 00000000         
   57 00000000         ;;R10 = R10 % R9
   58 00000000         ;ChiaDu



ARM Macro Assembler    Page 2 


   59 00000000         ;CMP R10, R9
   60 00000000         ;BLT KetThucChiaDu
   61 00000000         
   62 00000000         ;LapTru
   63 00000000         ;SUB R10, R9
   64 00000000         ;CMP R10, R9
   65 00000000         ;BGE LapTru
   66 00000000         
   67 00000000         ;KetThucChiaDu
   68 00000000         ;;END R10 = R10 % R9
   69 00000000         
   70 00000000         ;CMP R10, #0
   71 00000000         ;BEQ KhongPhaiSoNguyenTo
   72 00000000         
   73 00000000         ;ADD R6, #1
   74 00000000         ;B LapChiaHet
   75 00000000         
   76 00000000         
   77 00000000         ;LaSoNguyenTo
   78 00000000         ;MOV R7, #1
   79 00000000         ;B KetThucSoNguyenTo
   80 00000000         
   81 00000000         ;KhongPhaiSoNguyenTo
   82 00000000         ;MOV R7, #0
   83 00000000         
   84 00000000         ;KetThucSoNguyenTo
   85 00000000         ;ADD R2, #4
   86 00000000         ;ADD R3, #1
   87 00000000         
   88 00000000         ;CMP R7, #0
   89 00000000         ;BEQ LapCong
   90 00000000         
   91 00000000         ;CongSoNguyenTo
   92 00000000         ;ADD R5, R1
   93 00000000         ;B LapCong
   94 00000000         
   95 00000000         
   96 00000000         ;KetThucTongMT
   97 00000000         ;BX LR
   98 00000000         ;ENDP
   99 00000000         
  100 00000000         ;KetThuc 
  101 00000000         ;END
                       
Command Line: --debug --xref --cpu=Cortex-M3 --apcs=interwork --depend=.\lab03_
02.d -o.\lab03_02.o -IC:\Keil\ARM\RV31\INC -IC:\Keil\ARM\CMSIS\Include -IC:\Kei
l\ARM\Inc\ST\STM32F10x --list=.\lab03_02.lst Lab03_02.s
330 symbols in table
